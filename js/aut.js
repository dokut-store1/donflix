document.addEventListener('DOMContentLoaded',()=>{firebase.auth().onAuthStateChanged((user)=>{const loginButton=document.getElementById('x-login-button');const registerButton=document.getElementById('x-register-button');const logoutButton=document.getElementById('x-logout-button');const profileIcon=document.getElementById('x-profile-icon');const mobileLoginButton=document.getElementById('x-mobile-login-button');const mobileRegisterButton=document.getElementById('x-mobile-register-button');const mobileLogoutButton=document.getElementById('x-mobile-logout-button');const mobileProfileIcon=document.getElementById('x-mobile-profile-icon');if(user){if(loginButton)loginButton.style.display='none';if(registerButton)registerButton.style.display='none';if(logoutButton)logoutButton.style.display='inline-block';if(profileIcon)profileIcon.style.display='inline-block';if(mobileLoginButton)mobileLoginButton.style.display='none';if(mobileRegisterButton)mobileRegisterButton.style.display='none';if(mobileLogoutButton)mobileLogoutButton.style.display='inline-block';if(mobileProfileIcon)mobileProfileIcon.style.display='inline-block'}else{if(loginButton)loginButton.style.display='inline-block';if(registerButton)registerButton.style.display='inline-block';if(logoutButton)logoutButton.style.display='none';if(profileIcon)profileIcon.style.display='none';if(mobileLoginButton)mobileLoginButton.style.display='inline-block';if(mobileRegisterButton)mobileRegisterButton.style.display='inline-block';if(mobileLogoutButton)mobileLogoutButton.style.display='none';if(mobileProfileIcon)mobileProfileIcon.style.display='none'}});const logoutButtons=document.querySelectorAll('#x-logout-button, #x-mobile-logout-button');logoutButtons.forEach(button=>{button.addEventListener('click',()=>{firebase.auth().signOut().then(()=>{alert("Has cerrado sesión exitosamente.");window.location.href="login.html"}).catch((error)=>{alert("Error al cerrar sesión: "+error.message)})})})});const menuToggle=document.querySelector('.x-menu-toggle');const mobileNav=document.querySelector('.x-mobile-nav');const navOverlay=document.createElement('div');navOverlay.className='x-nav-overlay';document.body.appendChild(navOverlay);menuToggle.addEventListener('click',()=>{document.body.classList.toggle('x-menu-open')});navOverlay.addEventListener('click',()=>{document.body.classList.remove('x-menu-open')})